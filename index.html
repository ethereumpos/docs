<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Ethereum POS API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;php&quot;,&quot;javascript&quot;,&quot;go&quot;,&quot;python&quot;,&quot;ruby&quot;,&quot;c&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo-sm.png" style="width: 60%; margin: 20px auto 5px auto" alt="Logo sm" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="javascript">nodejs</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="c">c</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://ethereumpos.com'>Sign Up for a API Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Ethereum POS (Point of Sale) API Documentation! This documentation covers everything you need to know about accepting ethereum for your application. You&rsquo;ll be able to create orders, retrieve order information, and get your account history.</p>

<p>Ethereum POS has a pretty basic transaction system.</p>

<ol>
<li>Application creates new order for customer</li>
<li>Customer pays QR code Ethereum address</li>
<li>Successful alert for customer letting them know they paid. (expires in 15 minutes)</li>
<li>Application receives a POST to callback URL of order information and transaction ID.</li>
<li>Ethereum POS waits for 12 confirmations then sends entire wallet balance to your Ethereum address.</li>
<li>Another POST request to your application&rsquo;s callback URL.</li>
</ol>

<aside class="notice">
BETA API - Please use the Testnet API Endpoint first.
</aside>

<p>We have language bindings in cURL, Golang, and in jQuery. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>Ethereum POS is currently in the process of making the transaction callback process a seamless and transparent process. The plan is to have the customer pay directly to Ethereum POS Contract with data to include your Ethereum address, order ID and callback information. Once you&rsquo;ve collected your funds into your account inside of the contract, you&rsquo;ll be able to withdraw directly from contract, thus reducing the transaction fee each time a payment is transmitted.</p>

<h2 id="api-endpoints">API Endpoints</h2>

<p>Ethereum Point of Sale works on Ethereum&rsquo;s Mainnet (ETH) for production use. When you want to test your application, use the Testnet API that runs on the Ropsten Ethereum blockchain.</p>

<h3 id="production-api-endpoint-ethereum-blockchain-eth">Production API Endpoint (Ethereum Blockchain ETH)</h3>

<p><code class="prettyprint">https://api.ethereumpos.com</code></p>

<h3 id="testing-api-endpoint-ethereum-ropsten-testnet">Testing API Endpoint (Ethereum Ropsten Testnet)</h3>

<p><code class="prettyprint">https://testapi.ethereumpos.com</code></p>

<h1 id="authentication">Authentication</h1>

<p>Ethereum POS uses API keys to allow access to the API. You can register a new API key by registering on <a href="https://ethereumpos.com">ethereumpos.com</a>.</p>

<p>API requests to the server as a HEADER will look like the following:</p>

<p><code class="prettyprint">Authorization: MYKEYHERE</code></p>

<aside class="notice">
You must replace <code>MYKEYHERE</code> with your personal API key.
</aside>

          <h1 id="orders-api">Orders API</h1>

<h2 id="create-new-order">Create New Order</h2>
<pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s2">"Authorization: MYAPIKEY"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{
    "amount": "13.54",
    "callback": "http://domain.com"
}'</span> <span class="s2">"https://api.ethereumpos.com/order"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://api.ethereumpos.com/order'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'MYAPIKEY'</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
       "amount": "13.54",
       "address": "0x3f05dc64b34f5063461f81d88972a3f542f57331",
       "callback": "http://domain.com"
   }'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"https"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"hostname"</span><span class="p">:</span> <span class="s2">"api.ethereumpos.com"</span><span class="p">,</span>
  <span class="s2">"port"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"path"</span><span class="p">:</span> <span class="s2">"/order"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"MYAPIKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"13.54"</span><span class="p">,</span>
                <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"0x3f05dc64b34f5063461f81d88972a3f542f57331"</span><span class="p">,</span>
                <span class="s2">"callback"</span><span class="p">:</span> <span class="s2">"http://domain.com"</span>
            <span class="p">});</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">NOT</span><span class="x"> </span><span class="n">complete</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api.ethereumpos.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{ </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">13.54</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">address</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">0x3f05dc64b34f5063461f81d88972a3f542f57331</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">callback</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">http://domain.com</span><span class="se">\"</span><span class="s"> }"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">"MYAPIKEY"</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/order"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.ethereumpos.com/order"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MYAPIKEY'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{ </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">13.54</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">0x3f05dc64b34f5063461f81d88972a3f542f57331</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">callback</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">http://domain.com</span><span class="se">\"</span><span class="s2"> }"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight c tab-c"><code><span class="n">NOT</span> <span class="n">complete</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">716101402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1679548078de9a5a9129d75719b5e442abd5b2e5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expected_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13.54"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ethereumpos.com/test_payment/716101402"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"eth_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.98"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://chart.apis.google.com/chart?cht=qr&amp;chs=500x500&amp;chl=ethereum%3A0x1679548078de9a5a9129d75719b5e442abd5b2e5&amp;chld=H|0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sent_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x888a5fEFAA912778FdBf8eC222F299e96057c43b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This request will create a new order for your customer to send ETH to. Each new request creates a new ethereum wallet. 
Once the order is paid in full and confirmed the ether is forwarded to your ethereum wallet address. 
This address is set when you registered for ethereumpos.com and is available in your dashboard.</p>

<h3 id="expiration">Expiration</h3>

<p>If an order does not get paid within 50 blocks it will expire. An expiration is needed since ETH vs USD changes often. 
Once an order is expired, the order cannot be paid to. Create a new order to update the pricing relative to ether.</p>

<aside class="warning">
Requires the API Key Authorization Header. Replace <code>MYKEYHERE</code> with your API key.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.ethereumpos.com/order</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td>Currency value of order in USD ($25.85)</td>
</tr>
<tr>
<td>callback</td>
<td>false</td>
<td>Callback URL for your application for this order.</td>
</tr>
<tr>
<td>ref_id</td>
<td>false</td>
<td>Order ID based on your website or application (optional)</td>
</tr>
<tr>
<td>item_title</td>
<td>false</td>
<td>The item title to be shown to user (optional)</td>
</tr>
<tr>
<td>item_description</td>
<td>false</td>
<td>The item description for user (optional)</td>
</tr>
<tr>
<td>item_image</td>
<td>false</td>
<td>The item image to display to user (optional)</td>
</tr>
</tbody></table>

<h2 id="get-order-information">Get Order Information</h2>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="s2">"https://api.ethereumpos.com/order/&lt;ID&gt;"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://api.ethereumpos.com/order/&lt;ID&gt;'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_GET</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'MYAPIKEY'</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"https"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"hostname"</span><span class="p">:</span> <span class="s2">"api.ethereumpos.com"</span><span class="p">,</span>
  <span class="s2">"port"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"path"</span><span class="p">:</span> <span class="s2">"/order/&lt;ID&gt;"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"MYAPIKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">();</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">NOT</span><span class="x"> </span><span class="n">complete</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api.ethereumpos.com"</span><span class="p">)</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">"MYAPIKEY"</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/order/&lt;ID&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.ethereumpos.com/order/&lt;ID&gt;"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MYAPIKEY'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight c tab-c"><code><span class="n">NOT</span> <span class="n">complete</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">716101402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1679548078de9a5a9129d75719b5e442abd5b2e5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expected_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29.20"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ethereumpos.com/test_payment/716101402"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"eth_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.98"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://chart.apis.google.com/chart?cht=qr&amp;chs=500x500&amp;chl=ethereum%3A0x1679548078de9a5a9129d75719b5e442abd5b2e5&amp;chld=H|0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8586aebc2ae317388955f4cbf073aa736e8fe440aca7eec90f3bfe303e59abd6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sent_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x4746935c2b001f45d8c907e2bb425106411e03d8afc8940b47298a099509f48c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x888a5fEFAA912778FdBf8eC222F299e96057c43b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API request will respond with the order information. 
You can send this request if you need to update the stats of an order on your application. The request includes the same JSON structure as creating a new order.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.ethereumpos.com/order/&lt;ID&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>true</td>
<td>Ethereum POS Order ID</td>
</tr>
</tbody></table>

          <h1 id="subscriptions-api">Subscriptions API</h1>

<h2 id="create-subscription">Create Subscription</h2>
<pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s2">"Authorization: MYAPIKEY"</span> -d <span class="s1">'{
    "amount": "13.54",
    "recurring": "1m",
    "callback": "http://domain.com"
}'</span> <span class="s2">"https://api.ethereumpos.com/subscription"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32341402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29.20"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a Recurring Subscription for customers that are billed the same for each month/week/day/etc.</p>

<aside class="warning">
Requires the API Key Authorization Header. Replace <code>MYKEYHERE</code> with your API key.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.ethereumpos.com/subscription</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td>Currency value of order in USD ($25.85)</td>
</tr>
<tr>
<td>callback</td>
<td>false</td>
<td>Callback URL for your application for this order.</td>
</tr>
<tr>
<td>recurring</td>
<td>true</td>
<td>This subscription is due every interval - see format</td>
</tr>
</tbody></table>

<h3 id="recurring-format">Recurring Format</h3>

<p>Recurring input is formatted in a simple method, put a number followed by a character to symbolize a interval. 
(d=day, w=week, m=month, y=year)</p>

<table><thead>
<tr>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>7d</td>
<td>7 days</td>
</tr>
<tr>
<td>3w</td>
<td>3 weeks</td>
</tr>
<tr>
<td>6m</td>
<td>6 months</td>
</tr>
<tr>
<td>1y</td>
<td>1 year</td>
</tr>
</tbody></table>

<h2 id="create-subscription-order">Create Subscription Order</h2>
<pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s2">"Authorization: MYAPIKEY"</span> -d <span class="s1">'{
    "id": 34654567,
    "ref_id": "2312324",
    "ref_address": "0x00000000000000000000000000000000",
    "callback": "http://domain.com"
}'</span> <span class="s2">"https://api.ethereumpos.com/subscription/order"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">736101402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1679548078de9a5a9129d75719b5e442abd5b2e5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expected_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13.54"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ethereumpos.com/test_payment/716101402"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"eth_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.98"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://chart.apis.google.com/chart?cht=qr&amp;chs=500x500&amp;chl=ethereum%3A0x1679548078de9a5a9129d75719b5e442abd5b2e5&amp;chld=H|0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sent_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x888a5fEFAA912778FdBf8eC222F299e96057c43b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="mi">34654567</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will create a new order for your subscription. </p>

<aside class="warning">
Requires the API Key Authorization Header. Replace <code>MYKEYHERE</code> with your API key.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.ethereumpos.com/subscription/order</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>true</td>
<td>Ethereum POS Subscription ID</td>
</tr>
<tr>
<td>callback</td>
<td>false</td>
<td>A callback URL to notify ETH payment</td>
</tr>
<tr>
<td>ref_id</td>
<td>false</td>
<td>Reference ID for your application</td>
</tr>
<tr>
<td>ref_address</td>
<td>false</td>
<td>Reference another ETH address for contract callbacks</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="s2">"https://api.ethereumpos.com/subscription/&lt;id&gt;"</span>
</code></pre>
<h2 id="get-subscription">Get Subscription</h2>

<p>This endpoint retrieves subscription information</p>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="s2">"https://api.ethereumpos.com/subscription/&lt;ID&gt;"</span>
</code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.ethereumpos.com/subscription/&lt;ID&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>true</td>
<td>Ethereum POS Order ID</td>
</tr>
</tbody></table>

          <h1 id="history-api">History API</h1>

<h2 id="show-all-orders">Show All Orders</h2>

<p>This endpoint retrieves all orders related to your account.</p>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"Authorization: MYAPIKEY"</span> <span class="s2">"https://api.ethereumpos.com/history"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://api.ethereumpos.com/history'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_GET</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'MYAPIKEY'</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"https"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"hostname"</span><span class="p">:</span> <span class="s2">"api.ethereumpos.com"</span><span class="p">,</span>
  <span class="s2">"port"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"path"</span><span class="p">:</span> <span class="s2">"/history"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"MYAPIKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">();</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">NOT</span><span class="x"> </span><span class="n">complete</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api.ethereumpos.com"</span><span class="p">)</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">"MYAPIKEY"</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/history"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.ethereumpos.com/history"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MYAPIKEY'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight c tab-c"><code><span class="n">NOT</span> <span class="n">complete</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">716101419</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2524e3c29bd8ed8a16344ae0da27898dbef08511"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expected_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2281"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"eth_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70.15"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8403bcf744da5862eef5d3dd2fef951b06a582938e4848940bf0e87889d09012"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sent_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"return_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x888a5fEFAA912778FdBf8eC222F299e96057c43b"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API request lets you view each order you have with EthereumPOS.com.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.ethereumpos.com/history</code></p>

<h2 id="show-orders-with-status">Show Orders with Status</h2>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"Authorization: MYAPIKEY"</span> <span class="s2">"https://api.ethereumpos.com/history/&lt;METHOD&gt;"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://api.ethereumpos.com/history/&lt;METHOD&gt;'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_GET</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'MYAPIKEY'</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"https"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"hostname"</span><span class="p">:</span> <span class="s2">"api.ethereumpos.com"</span><span class="p">,</span>
  <span class="s2">"port"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"path"</span><span class="p">:</span> <span class="s2">"/history/&lt;METHOD&gt;"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"MYAPIKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">();</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">NOT</span><span class="x"> </span><span class="n">complete</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api.ethereumpos.com"</span><span class="p">)</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">"MYAPIKEY"</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/history/&lt;METHOD&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.ethereumpos.com/history/&lt;METHOD&gt;"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'MYAPIKEY'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight c tab-c"><code><span class="n">NOT</span> <span class="n">complete</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">716101419</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2524e3c29bd8ed8a16344ae0da27898dbef08511"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expected_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2281"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"eth_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70.15"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8403bcf744da5862eef5d3dd2fef951b06a582938e4848940bf0e87889d09012"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sent_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"return_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x888a5fEFAA912778FdBf8eC222F299e96057c43b"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API request will respond back with an array of orders based on the order method status you requested.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.ethereumpos.com/history/&lt;METHOD&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>METHOD</td>
<td>pending,success,complete,expired,refunded</td>
</tr>
</tbody></table>

<h3 id="method-values">Method Values</h3>

<table><thead>
<tr>
<th>Method Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pending</td>
<td>Customer has not sent this transaction yet.</td>
</tr>
<tr>
<td>success</td>
<td>Customer has sent the correct amount and has at least 1 confirmation</td>
</tr>
<tr>
<td>complete</td>
<td>Ethereum POS sent the entire wallet balance to the creators Ethereum address</td>
</tr>
<tr>
<td>expired</td>
<td>Customer didn&rsquo;t send the transaction within 15 minutes. This can also happen if customer sent a low transaction fee.</td>
</tr>
<tr>
<td>refunded</td>
<td>Merchant has successfully refunded the customer</td>
</tr>
</tbody></table>

<h1 id="system-api">System API</h1>

<h2 id="show-sever-status">Show Sever Status</h2>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="s2">"https://api.ethereumpos.com/status"</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'https://api.ethereumpos.com/status'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_GET</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"https"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"hostname"</span><span class="p">:</span> <span class="s2">"api.ethereumpos.com"</span><span class="p">,</span>
  <span class="s2">"port"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"path"</span><span class="p">:</span> <span class="s2">"/status"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">chunks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">chunks</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">();</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">NOT</span><span class="x"> </span><span class="n">complete</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api.ethereumpos.com"</span><span class="p">)</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/status"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.ethereumpos.com/status"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight c tab-c"><code><span class="n">NOT</span> <span class="n">complete</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"966798"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"test"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API request responds useful information to help your application know what&rsquo;s going on with EthereumPOS.com API and blockchain status.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.ethereumpos.com/status</code></p>

<h3 id="response-values">Response Values</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>block</td>
<td>the most up to date block with Ethereum and our servers.</td>
</tr>
<tr>
<td>test</td>
<td>will be set to true if request is sent to test API.</td>
</tr>
<tr>
<td>usd</td>
<td>USD pricing of ETH</td>
</tr>
<tr>
<td>eur</td>
<td>EURO pricing of ETH</td>
</tr>
<tr>
<td>gbp</td>
<td>GBP pricing of ETH</td>
</tr>
</tbody></table>

          <h1 id="smart-contract-api">Smart Contract API</h1>

<h2 id="introduction">Introduction</h2>
<pre class="highlight shell tab-shell"><code>contract EthereumPOS <span class="o">{</span>
    <span class="k">function </span>subscriptionActive<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>subscriptionStartedDate<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>string<span class="o">)</span>;
    <span class="k">function </span>subscriptionStartedBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>subscriptionExpiresDate<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>string<span class="o">)</span>;
    <span class="k">function </span>subscriptionExpiresBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>subscriptionAddressActive<span class="o">(</span>address wallet<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>orderPaid<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>orderPaidBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>approvedSender<span class="o">()</span> constant returns <span class="o">(</span>address<span class="o">)</span>;
<span class="o">}</span>
</code></pre>
<p>Ethereum POS includes a ethereum smart contract so your contracts can reference it run functionality 
within the blockchain within your own environment.</p>

<h3 id="contract-calls">Contract Calls</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptionActive</td>
<td>will response true or false if subscription is active/paid</td>
</tr>
<tr>
<td>subscriptionStartedDate</td>
<td>subscription starting date as a string in UTC format</td>
</tr>
<tr>
<td>subscriptionStartedBlock</td>
<td>subscription initial block as int</td>
</tr>
<tr>
<td>subscriptionExpiresDate</td>
<td>subscription expiration date as a string in UTC format</td>
</tr>
<tr>
<td>subscriptionExpiresBlock</td>
<td>subscription initial block as int</td>
</tr>
<tr>
<td>subscriptionAddressActive</td>
<td>subscription for a ref_address specified with new order</td>
</tr>
<tr>
<td>orderPaid</td>
<td>responds true or false if order was paid</td>
</tr>
<tr>
<td>orderPaidBlock</td>
<td>responds the block number when order was paid</td>
</tr>
<tr>
<td>approvedSender</td>
<td>returns the ETH address of the trusted Ethereum POS account</td>
</tr>
</tbody></table>

<h2 id="contract-callbacks">Contract Callbacks</h2>

<blockquote>
<p>Insert the Ethereum POS Contract API into your contract</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="k">function </span>callbackOrder<span class="o">(</span>uint256 id, string ref_id, bool paid<span class="o">)</span> <span class="o">{</span>
    require<span class="o">(</span>msg.sender <span class="o">==</span> EthereumPOS.approvedSender<span class="o">())</span>;
    // run your functions here

<span class="o">}</span>

<span class="k">function </span>callbackSubscription<span class="o">(</span>uint256 id, string ref_id, address ref_address, bool active<span class="o">)</span> <span class="o">{</span>
    require<span class="o">(</span>msg.sender <span class="o">==</span> EthereumPOS.approvedSender<span class="o">())</span>;
    // run your functions here

<span class="o">}</span>
</code></pre>
<p>When you choose to use Ethereum POS contract callback feature, you must include a callback 
function inside of your contract. Ethereum POS will submit a contract call to the callback address.</p>

<h2 id="example-contract">Example Contract</h2>
<pre class="highlight shell tab-shell"><code>pragma solidity ^0.4.11;

contract EthereumPOS <span class="o">{</span>
    <span class="k">function </span>subscriptionActive<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>subscriptionStartedDate<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>string<span class="o">)</span>;
    <span class="k">function </span>subscriptionStartedBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>subscriptionExpiresDate<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>string<span class="o">)</span>;
    <span class="k">function </span>subscriptionExpiresBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>subscriptionAddressActive<span class="o">(</span>address wallet<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>orderPaid<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>bool<span class="o">)</span>;
    <span class="k">function </span>orderPaidBlock<span class="o">(</span>int256 id<span class="o">)</span> constant returns <span class="o">(</span>int<span class="o">)</span>;
    <span class="k">function </span>approvedSender<span class="o">()</span> constant returns <span class="o">(</span>address<span class="o">)</span>;
<span class="o">}</span>


contract Example <span class="o">{</span>

    EthereumPOS public pos;
    address public owner;

    mapping<span class="o">(</span>int256 <span class="o">=</span>&gt; bool<span class="o">)</span> isPaid;
    mapping<span class="o">(</span>address <span class="o">=</span>&gt; bool<span class="o">)</span> allowedUsers;

    <span class="k">function </span>Example<span class="o">()</span> <span class="o">{</span>
        pos <span class="o">=</span> EthereumPOS<span class="o">(</span>0x0000000000000000000000000000000000000<span class="o">)</span>;
        owner <span class="o">=</span> msg.sender;
    <span class="o">}</span>

    // EtheruemPOS.com subscription callback request
    <span class="k">function </span>callbackSubscription<span class="o">(</span>uint256 id, string ref_id, address ref_address, bool active<span class="o">)</span> <span class="o">{</span>
        require<span class="o">(</span>msg.sender <span class="o">==</span> pos.approvedSender<span class="o">())</span>;
        allowedUsers[ref_address] <span class="o">=</span> active;
        isPaid[ref_address] <span class="o">==</span> active
    <span class="o">}</span>

    <span class="k">function </span>testSubscription<span class="o">()</span> external payable <span class="o">{</span>
       require<span class="o">(</span>pos.subscriptionAddressActive<span class="o">(</span>msg.sender<span class="o">))</span>;
       owner.transfer<span class="o">(</span>msg.value<span class="o">)</span>;
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>This is a full example of using Ethereum POS smart contract to run functions inside of another contract.</p>

<h3 id="synopsis">Synopsis</h3>

<p>Imagine you have your own smart contract that holds user subscriptions, each user that wants to 
interact with your contract must pay your monthly fee. </p>

<p>In this example, this contract would allow ETH to be transferred to a different address if the sending address 
has a active subscription.</p>

<h3 id="testsubscription-address-wallet-function">testSubscription(address wallet) Function</h3>

<p>This public function will force the sender to have a active subscription to continue. If the address has an 
active subscription the sending ETH amount will be sent to the owner.</p>

          <h1 id="pricing-and-fees">Pricing and Fees</h1>

<h2 id="memberships">Memberships</h2>

<p>Ethereum Point of Sale is extremly low cost for the customer and the developer/merchant. 
While you use Etheruem POS you can accept payments from any type of ETH wallet, even Coinbase. 
All pricing is measured in USD but will be converted in ETH when an order is placed.</p>

<h3 id="monthly-plans">Monthly Plans</h3>

<table><thead>
<tr>
<th>Plan</th>
<th>Price</th>
<th>Monthly Cost</th>
<th>Max (ETH)</th>
<th>Recurring Payments</th>
<th>Contract Calls</th>
</tr>
</thead><tbody>
<tr>
<td>Basic</td>
<td>$0.25 per order</td>
<td>$0.00</td>
<td>0.25 ETH</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>Seller</td>
<td>$0.15 per order</td>
<td>$6.00</td>
<td>2 ETH</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>Premium</td>
<td>$0.10 per order</td>
<td>$25.00</td>
<td>10 ETH</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Exclusive</td>
<td>$0.00</td>
<td>$50.00</td>
<td>100 ETH</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Corporate</td>
<td>Contact Us</td>
<td>&mdash;</td>
<td>100+ ETH</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody></table>

<h3 id="smart-contract-features">Smart Contract Features</h3>

<p>This fee includes all ETH transactions fees so you won&rsquo;t have to worry. Depending on how large your callback function is you can choose the gas limit.</p>

<table><thead>
<tr>
<th>Cost Per Call</th>
<th>Gas Limit</th>
</tr>
</thead><tbody>
<tr>
<td>$0.25</td>
<td>50,000</td>
</tr>
<tr>
<td>$0.30</td>
<td>80,000</td>
</tr>
<tr>
<td>$0.50</td>
<td>120,000</td>
</tr>
<tr>
<td>$1.00</td>
<td>250,000</td>
</tr>
</tbody></table>

<h5 id="recurring-subscription-payments">Recurring Subscription Payments</h5>

<p>Give your customers the ability to pay monthly with a dedicated QR code.</p>

<h2 id="ethereum-fees">Ethereum Fees</h2>

<p>When the customer first submits the transaction, they will be forced to pay for the transaction fee which is around $0.02 USD. Once Ethereum POS has at least 12 confirmations on the customers transaction, the entire balance of the wallet will be sent to your Ethereum address that you inserted on the /new request.</p>

<p>For example, a customer sends $10.00. Most likely, the customer wallet will send around $10.02 to the Ethereum POS wallet. The Ethereum POS wallet will only receive $10.00 because of the $0.02 transaction fee. Once theres 12+ confirmation, Ethereum POS will send the entire wallet balance to your Ethereum address. You&rsquo;ll receive around $9.98, since the $0.02 transaction fee has been included.</p>

<aside class="notice">
Ethereum POS does not take any Ethereum or gas during this transaction process.
</aside>

<h2 id="contract-information">Contract Information</h2>

<p>Ethereum POS is currently in the process of making the transaction callback process a seamless and transparent process. The plan is to have the customer pay directly to Ethereum POS Contract with data to include your Ethereum address, order ID and callback information. Once you&rsquo;ve collected your funds into your account inside of the contract, you&rsquo;ll be able to withdraw directly from contract, thus reducing the transaction fee each time a payment is transmitted.</p>

<ol>
<li>Customer pays Etheruem address QR code</li>
<li>Ethereum POS sends entire balance with order data to Ethereum POS contract.</li>
<li>Merchant/Developer can hold funds inside of the contract and withdraw when requested. (sending a call to contract from requesting address)</li>
</ol>

<aside class="notice">
Email us:  info@ethereumpos.com
</aside>

          <h1 id="errors">Errors</h1>

<p>Errors are no fun when you have to debug, but it&rsquo;s ok. Here&rsquo;s a list of the error codes.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Invalid or Missing Authorization Header API Key</td>
</tr>
<tr>
<td>2</td>
<td>API issue - try later?</td>
</tr>
<tr>
<td>3</td>
<td>Invalid or Missing callback URL or ETH contract address</td>
</tr>
<tr>
<td>4</td>
<td>Order not found</td>
</tr>
<tr>
<td>5</td>
<td>Subscription not found</td>
</tr>
<tr>
<td>6</td>
<td>Subscription has an incorrect interval</td>
</tr>
<tr>
<td>7</td>
<td>Missing required input parameters</td>
</tr>
<tr>
<td>8</td>
<td>Incorrect currency value or ETH value</td>
</tr>
<tr>
<td>9</td>
<td>History found no results</td>
</tr>
<tr>
<td>10</td>
<td>Currency pricing is incorrect</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="javascript">nodejs</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="c">c</a>
          </div>
      </div>
    </div>
  </body>
</html>
